Metadata-Version: 2.4
Name: gym-cli
Version: 0.1.0
Summary: CLI дневник тренировок с Telegram ботом и голосовым вводом
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: click>=8.0
Requires-Dist: aiogram>=3.0
Requires-Dist: openai>=1.0
Requires-Dist: pydub>=0.25
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: pytest-bdd>=6.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21; extra == "dev"

# Gym CLI - Дневник тренировок

CLI приложение для отслеживания тренировок в зале с Telegram ботом и голосовым вводом.

## Проблема

> "Какой у тебя рабочий вес на жиме?" Я: "Ну... 70... или 80... где-то так"

Потерянные блокноты, неразборчивые записи, забытые цифры. Этот проект решает проблему учёта тренировок.

## Возможности

- **CLI** для быстрого добавления упражнений
- **Telegram бот** для работы с телефона
- **Голосовой ввод** через Whisper API
- **История и статистика** с ASCII графиками

## Установка

```bash
# Клонировать репозиторий
git clone git@github.com:Roflmax/exam_itmo.git
cd exam_itmo

# Создать виртуальное окружение
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или: venv\Scripts\activate  # Windows

# Установить зависимости
pip install -e ".[dev]"
```

## Использование CLI

```bash
# Добавить упражнение
gym add "жим лёжа" 80kg 8reps 3sets
gym add "присед" 100kg 5x4 --note "колено ныло"

# Посмотреть сегодняшние тренировки
gym today

# Узнать личный рекорд
gym max "жим лёжа"

# Прогресс за 3 месяца
gym progress "присед"

# Когда последний раз делал
gym last "становая"
```

## Telegram бот

### Настройка

1. Создайте бота через [@BotFather](https://t.me/BotFather)
2. Получите токен бота
3. Для голоса: получите [OpenAI API key](https://platform.openai.com/api-keys)

```bash
# Установить переменные окружения
export TELEGRAM_BOT_TOKEN="your_bot_token"
export OPENAI_API_KEY="your_openai_key"  # для голоса

# Запустить бота
python -m bot.main
```

### Команды бота

| Команда | Описание |
|---------|----------|
| `/start` | Приветствие и инструкция |
| `/help` | Список команд |
| `/add жим 80 8x3` | Добавить упражнение |
| `/today` | Тренировки за сегодня |
| `/max жим` | Максимальный вес |
| `/last присед` | Последняя тренировка |

### Быстрый ввод

Просто напишите без команды:
```
жим 80 8x3
приседания 100кг 5x4
становая 120 5 3 новый рекорд
```

### Голосовые команды

Отправьте голосовое сообщение:
- "Добавь жим лёжа восемьдесят кило восемь на три"
- "Что я сегодня делал"
- "Какой у меня максимум на приседе"
- "Когда последний раз делал становую"

## Тестирование

Проект использует BDD подход с pytest-bdd:

```bash
# Запуск всех тестов
pytest tests/ -v

# Запуск конкретного feature
pytest tests/ -k "add_exercise"

# С отчётом покрытия
pytest --cov=gym --cov=bot tests/
```

## Структура проекта

```
gym_cli/
├── gym/
│   ├── cli.py          # Click команды
│   ├── db.py           # SQLite операции
│   ├── models.py       # Dataclasses
│   └── parser.py       # Парсинг ввода
├── bot/
│   ├── main.py         # Telegram bot
│   ├── handlers.py     # Обработчики команд
│   └── voice.py        # Распознавание голоса
├── tests/
│   ├── features/       # BDD .feature файлы
│   └── step_defs/      # Step definitions
├── README.md
├── CLAUDE.md
└── pyproject.toml
```

## Технологии

- **Python 3.10+**
- **Click** - CLI framework
- **SQLite** - локальная база данных
- **aiogram 3.x** - Telegram bot
- **OpenAI Whisper** - распознавание голоса
- **pytest-bdd** - BDD тестирование

## Разработка

Проект создан с использованием Vibe Coding подхода:
1. Написание BDD спецификаций (.feature файлы)
2. Создание step definitions
3. Реализация функциональности
4. Рефакторинг

## Лицензия

MIT
